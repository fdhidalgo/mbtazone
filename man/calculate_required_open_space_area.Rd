% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/unit_capacity_calculations.R
\name{calculate_required_open_space_area}
\alias{calculate_required_open_space_area}
\title{Calculate Required Open Space Area}
\usage{
calculate_required_open_space_area(
  lot_area,
  exclusion_ratio,
  open_space_requirement,
  net_developable_area,
  override_developable_sf,
  water_included
)
}
\arguments{
\item{lot_area}{Numeric vector of total lot areas in square feet}

\item{exclusion_ratio}{Numeric vector of exclusion ratios (from
\code{\link{calculate_exclusion_ratio}})}

\item{open_space_requirement}{Numeric value of open space requirement (from
\code{\link{calculate_open_space_requirement}})}

\item{net_developable_area}{Numeric vector of net developable areas (from
\code{\link{calculate_net_developable_area}})}

\item{override_developable_sf}{Numeric vector indicating which parcels have
override values (NA = no override, numeric = override applied)}

\item{water_included}{Character value indicating if water bodies count toward
open space ("Y" or "N")}
}
\value{
Numeric vector of required open space areas in square feet.
}
\description{
Computes the total open space area required by zoning for each parcel.
This is Excel column T.
}
\details{
This function implements complex conditional logic:

\strong{If override is specified (not NA):}
\itemize{
\item If net_developable_area > 0: return net_developable_area * open_space_requirement
\item Otherwise: return 0
}

\strong{If no override (NA):}
\itemize{
\item If water_included = "Y": return max(exclusion_ratio, open_space_requirement) * lot_area
\item If water_included = "N": return (exclusion_ratio + open_space_requirement) * lot_area
}

The water_included flag determines whether water bodies can count toward the
open space requirement (max) or must be in addition to it (sum).
}
\examples{
# No water bodies, no override
calculate_required_open_space_area(
  lot_area = 10000,
  exclusion_ratio = 0.1,
  open_space_requirement = 0.2,
  net_developable_area = 9000,
  override_developable_sf = NA,
  water_included = "N"
)
# Returns: (0.1 + 0.2) * 10000 = 3000

# Water included - use maximum
calculate_required_open_space_area(
  lot_area = 10000,
  exclusion_ratio = 0.25,
  open_space_requirement = 0.2,
  net_developable_area = 9000,
  override_developable_sf = NA,
  water_included = "Y"
)
# Returns: max(0.25, 0.2) * 10000 = 2500

}
