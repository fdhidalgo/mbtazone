% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/unit_capacity_calculations.R
\name{calculate_units_with_max_cap}
\alias{calculate_units_with_max_cap}
\title{Calculate Units with Maximum Units Per Lot Cap}
\usage{
calculate_units_with_max_cap(units_building_capacity, max_units_per_lot)
}
\arguments{
\item{units_building_capacity}{Numeric vector of units from building capacity
(from \code{\link{calculate_units_from_building_capacity}})}

\item{max_units_per_lot}{Numeric value of maximum units per lot from zoning
parameters. Use NA for no cap.}
}
\value{
Numeric vector of adjusted unit counts floored to integers. When
max_units_per_lot is NA or not applicable, returns floored building capacity.
}
\description{
Applies the maximum units per lot cap to building capacity units. This is
Excel column AC.
}
\details{
Logic:
\itemize{
\item If max_units_per_lot is NA: return floor(units_building_capacity)
\item If max_units_per_lot >= 3 and < building capacity: return max_units_per_lot
\item If max_units_per_lot < 3 and < building capacity: return 0 (below threshold)
\item Otherwise: return floor(units_building_capacity)
}

This corresponds to Excel column AC.
}
\examples{
# Building capacity 8 units, capped at 6
calculate_units_with_max_cap(8, 6)
# Returns: 6

# Building capacity 8 units, cap of 2 (below threshold)
calculate_units_with_max_cap(8, 2)
# Returns: 0

# No cap
calculate_units_with_max_cap(8, NA)
# Returns: 8

}
\seealso{
\code{\link{calculate_units_from_building_capacity}}
}
