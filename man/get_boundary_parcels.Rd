% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smc_particle.R
\name{get_boundary_parcels}
\alias{get_boundary_parcels}
\title{Get Boundary Parcels}
\usage{
get_boundary_parcels(particle, map)
}
\arguments{
\item{particle}{A ParticleState object}

\item{map}{An mbta_map object containing adjacency graph}
}
\value{
Integer vector of parcel indices on the boundary (may be empty if
zone is fully enclosed)
}
\description{
Find parcels adjacent to the current zone that could be added next. Returns
the "boundary" of the zone: parcels that share an edge with at least one
parcel in the zone but are not yet included.
}
\details{
\subsection{Boundary Definition}{

A parcel is on the boundary if:
\enumerate{
\item It is adjacent to at least one parcel in the zone (rook adjacency)
\item It is not already in the zone
}
}

\subsection{Rook Adjacency}{

Uses the adjacency graph from \code{map$adj}, which is built with rook adjacency
(shared edge required, not just corner touch). See \code{build_adjacency()} for
details.
}

\subsection{Empty Boundary}{

If the boundary is empty, the particle has no more adjacent parcels to add
and should be marked as dead (rare - only if zone is fully enclosed or
isolated).
}
}
\examples{
\dontrun{
# Get boundary
boundary <- get_boundary_parcels(particle, map)

if (length(boundary) == 0) {
  # No more adjacent parcels
  particle$active <- FALSE
} else {
  # Propose next parcel from boundary
  next_parcel <- sample(boundary, 1)
}
}

}
\seealso{
\code{\link{build_adjacency}}
}
