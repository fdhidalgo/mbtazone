% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gis_operations.R
\name{calculate_station_area_percentage}
\alias{calculate_station_area_percentage}
\title{Calculate Station Area Percentage}
\usage{
calculate_station_area_percentage(district_sf, station_areas)
}
\arguments{
\item{district_sf}{An sf object representing the compliance district geometry.
Must be in EPSG:26986 projection.}

\item{station_areas}{An sf object containing transit station buffer geometries.
Must be in EPSG:26986 projection.}
}
\value{
Numeric value between 0 and 100 representing the percentage of district
area within station buffers. Returns 0 if district has no station overlap.
}
\description{
Calculate the percentage of a compliance district that falls within MBTA
transit station areas (0.5-mile buffers). Used to verify location requirements
for Rapid Transit and Commuter Rail communities.
}
\details{
This function calculates what percentage of the total district area falls
within 0.5-mile buffers of MBTA transit stations. The MBTA Communities Act
requires:
\itemize{
\item \strong{Rapid Transit:} ≥50\% within station areas
\item \strong{Commuter Rail:} No minimum (but encouraged)
}

The calculation:
\enumerate{
\item Unions all district features into single geometry
\item Unions all station buffers into single geometry
\item Intersects district with station areas
\item Calculates percentage: (intersection area / total district area) * 100
}
}
\section{NA Handling}{

Returns NA if:
\itemize{
\item District geometry is empty or invalid
\item District area is 0
}
Returns 0 (not NA) if district is outside all station areas.
}

\examples{
\dontrun{
# Load district and station areas
district <- sf::st_read("district.shp")
district <- sf::st_transform(district, 26986)
station_areas <- load_transit_stations()

# Calculate percentage in station areas
pct <- calculate_station_area_percentage(district, station_areas)
cat("District within station areas:", pct, "\%\n")

# Check compliance (Rapid Transit requires ≥50\%)
if (pct >= 50) {
  cat("Meets Rapid Transit location requirement\n")
}
}

}
\seealso{
\code{\link{calculate_station_intersection}}, \code{\link{calculate_district_area}}
}
