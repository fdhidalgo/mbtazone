% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/unit_capacity_calculations.R
\name{calculate_exclusion_ratio}
\alias{calculate_exclusion_ratio}
\title{Calculate Exclusion Ratio}
\usage{
calculate_exclusion_ratio(excluded_area, lot_area)
}
\arguments{
\item{excluded_area}{Numeric vector of excluded areas in square feet
(water, wetlands, protected land, etc.)}

\item{lot_area}{Numeric vector of total lot areas in square feet}
}
\value{
Numeric vector of exclusion ratios (0 to 1). Returns 0 when
lot_area is 0 or NA. Returns NA when both inputs are NA.
}
\description{
Computes the ratio of excluded land to total lot area for each parcel.
This is Excel column R.
}
\details{
The exclusion ratio indicates what proportion of a parcel is unavailable
for development. It's used in open space calculations to account for
land already excluded from development.

Formula: exclusion_ratio = excluded_area / lot_area

This corresponds to Excel column R: =IFERROR(L/I, 0)

Special handling:
\itemize{
\item When lot_area = 0: returns 0 (avoid division by zero)
\item When lot_area is NA: returns 0 (Excel behavior)
\item When excluded_area is NA but lot_area is not: returns NA (preserve uncertainty)
\item When both are NA: returns NA
}
}
\examples{
# Normal cases
calculate_exclusion_ratio(
  excluded_area = c(1000, 500, 2000),
  lot_area = c(10000, 8000, 12000)
)
# Returns: c(0.1, 0.0625, 0.1667)

# Zero lot area (division by zero)
calculate_exclusion_ratio(
  excluded_area = c(1000, 500),
  lot_area = c(10000, 0)
)
# Returns: c(0.1, 0)

# No exclusions
calculate_exclusion_ratio(
  excluded_area = c(0, 0, 0),
  lot_area = c(10000, 8000, 12000)
)
# Returns: c(0, 0, 0)

}
